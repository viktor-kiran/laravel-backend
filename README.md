# laravel-backend
Backend for Laravel 5

Модули

Категории

Для того что бы использовать категории в своем модуле, нужно наследовать класс 
\Backend\Category\Controllers\CategoryResourceController

Он дополняет базовый класс ResourceController.

Если плинируется использовать древовидную структуру, тогда в нужном модуле, в конфигурации полей нужно добавить поле 
    'category_id' => [ 
    	'name' => 'category_id',
		'type' => 'select', 
		'label' => 'Категории', 
		'options' => [],
	],
и указать это поле в нужной табе.
а в полях для поиска добавить
	[
		'options-empty' => 'Все категории',
		'name' => 'parent-cat',
		'field-from' => 'category_id',
		'label' => '',
		'fields' => [ 'category_id'],
	],
параметр name в поиске не имеет значеня. 

Если категория не древовидна, эти поля будут игнорироваться, как в поиске так и списке полей.

Массив категорий подставится автоматически.
 Так же есть дополнительне поля в основном файле конфигурации

	'list' => [
		'category-filter' => true,
	],

	Если эта опция выставлена, то по умолчанию будет фильтрация по корневой категории или той что указана в url как cat. Если опция не выставлена, то будут выведены все записи во всех вложеных категориях, точно так же будет работать и поиск, если нужно искать в конкретной категории, ее нужно будет выбрать.

 

